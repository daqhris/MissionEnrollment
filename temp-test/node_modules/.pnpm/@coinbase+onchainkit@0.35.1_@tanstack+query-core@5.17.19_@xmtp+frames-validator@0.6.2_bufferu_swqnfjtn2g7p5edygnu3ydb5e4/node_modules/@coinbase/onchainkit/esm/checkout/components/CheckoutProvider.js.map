{"version":3,"file":"CheckoutProvider.js","sources":["../../../src/checkout/components/CheckoutProvider.tsx"],"sourcesContent":null,"names":["emptyContext","CheckoutContext","createContext","useCheckoutContext","context","useContext","Error","CheckoutProvider","chargeHandler","children","isSponsored","onStatus","productId","config","appearance","paymaster","name","undefined","logo","useOnchainKit","address","chainId","isConnected","useAccount","connectAsync","useConnect","switchChainAsync","useSwitchChain","chargeId","setChargeId","useState","transactionId","setTransactionId","errorMessage","setErrorMessage","isSmartWallet","useIsWalletACoinbaseSmartWallet","fetchedDataUseEffect","useRef","fetchedDataHandleSubmit","userRejectedRef","contractsRef","insufficientBalanceRef","priceInUSDCRef","fetchData","useCallback","updateLifecycleStatus","statusName","CHECKOUT_LIFECYCLESTATUS","FETCHING_DATA","statusData","contracts","hydratedChargeId","insufficientBalance","priceInUSDC","error","fetchContracts","GENERIC_ERROR_MESSAGE","ERROR","code","CheckoutErrorCode","UNEXPECTED_ERROR","message","current","READY","lifecycleStatus","useLifecycleStatus","INIT","useCommerceContracts","status","writeContractsAsync","useWriteContracts","mutation","onSuccess","id","data","useCallsStatus","query","refetchInterval","state","enabled","transactionHash","receipts","receipt","useWaitForTransactionReceipt","hash","useEffect","PENDING","SUCCESS","transactionReceipts","receiptUrl","handleSubmit","window","open","INSUFFICIENT_BALANCE","USER_REJECTED_ERROR","connectedAddress","connectedChainId","accounts","_connectedChainId","connector","coinbaseWallet","appName","appLogoUrl","preference","NO_CONNECTED_ADDRESS_ERROR","base","CHECKOUT_INSUFFICIENT_BALANCE_ERROR_MESSAGE","CHECKOUT_INSUFFICIENT_BALANCE_ERROR","length","NO_CONTRACTS_ERROR","capabilities","paymasterService","url","isUserRejectedError","includes","isUserRejectedRequestError","errorCode","JSON","stringify","value","useValue","onSubmit","_jsx","Provider"],"mappings":"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"}